version: "1.0"
generated: "2026-02-18"

# Task status tracking for Holly Grace development.
# Statuses: pending | active | done | blocked
#
# Short form:   task_id: pending
# Long form:    task_id:
#                 status: done
#                 commit: abc1234
#                 date: 2026-02-18
#                 note: optional context
#
# This file is the single source of truth for development progress.
# Run `python -m holly.arch gantt` to regenerate Gantt charts.

tasks:
  # ── Slice 1: Phase A Spiral ────────────────────────────────
  # Step 1 — Extract
  1.1: pending
  1.2: pending
  1.3: pending
  1.4: pending
  1.5:
    status: done
    commit: b829279
    date: "2026-02-18"
    note: "SAD mermaid parser → typed AST (14 tests)"
  1.6:
    status: done
    commit: b829279
    date: "2026-02-18"
    note: "Pydantic v2 architecture.yaml schema (7 tests)"
  1.7:
    status: done
    commit: b829279
    date: "2026-02-18"
    note: "SAD AST → ArchitectureDocument pipeline (12 tests)"
  1.8:
    status: done
    commit: b829279
    date: "2026-02-18"
    note: "SourceRef linking in all models"

  # Step 2 — Registry
  2.1: pending
  2.2: pending
  2.3: pending
  2.4: pending
  2.5: pending
  2.6:
    status: done
    date: "2026-02-18"
    note: "ArchitectureRegistry singleton, thread-safe lazy init (18 tests)"
  2.7:
    status: done
    date: "2026-02-18"
    note: "get_component/get_boundary/get_icd lookups (24 tests)"
  2.8:
    status: done
    date: "2026-02-18"
    note: "Hot-reload with validation, generation counter (18 tests)"
  2.9: pending

  # Step 3 — Decorators
  3.1: pending
  3.2: pending
  3.3: pending
  3.4: pending
  3.5: pending
  3.6:
    status: done
    date: "2026-02-18"
    note: "Core decorators: @kernel_boundary, @tenant_scoped, @lane_dispatch, @mcp_tool, @eval_gated (37 tests)"
  3.7:
    status: done
    commit: 6fb886b
    date: "2026-02-18"
    note: "K1 schema validation gate, SchemaRegistry, ICD contract enforcement via @kernel_boundary (37 tests)"
  3.8: pending
  3.9: pending
  3.10: pending

  # Step 3a — Spiral Gate
  3a.1: pending
  3a.2: pending
  3a.3: pending
  3a.4: pending
  3a.5: pending
  3a.6: pending
  3a.7: pending
  3a.8:
    status: done
    date: "2026-02-18"
    note: "Full pipeline integration test: YAML → registry → decorator → K1 (13 tests)"
  3a.9: pending
  3a.10:
    status: done
    date: "2026-02-18"
    note: "K8 eval gate, PredicateRegistry, @eval_gated decorator enforcement (26 tests)"
  3a.11: pending
  3a.12:
    status: done
    date: "2026-02-18"
    note: "Spiral gate report: 3 PASS, 9 WAIVED, 0 FAIL - Slice 2 unlocked (17 tests)"

  # ── Slice 2: Phase A Backfill ───────────────────────────
  # Step 4 — Scaffold
  4.1: pending
  4.2: pending
  4.3: pending
  4.4: pending
  4.5: pending

  # Step 5 — ICD
  5.1: pending
  5.2: pending
  5.3: pending
  5.4: pending
  5.5:
    status: done
    date: "2026-02-18"
    note: "49 ICD Pydantic models, ICD_MODEL_MAP, register_all_icd_models(), enum constraints (120 tests)"
  5.6:
    status: done
    date: "2026-02-18"
    note: "49 ICDs in architecture.yaml with component mapping, protocol, SIL; registry lookups (165 tests)"
  5.7: pending
  5.8:
    status: done
    date: "2026-02-18"
    note: "ICD Schema Registry: Pydantic model resolution with TTL cache, all 49 ICDs, <1ms p99 (32 tests)"
  5.9: pending

  # Step 5a — ATAM
  5a.1: pending
  5a.2: pending
  5a.3: pending
  5a.4: pending

  # Step 6 — Validate
  6.1: pending
  6.2: pending
  6.3: pending

  # Step 7 — Scan
  7.1:
    status: done
    date: "2026-02-18"
    note: "AST scanner with per-module rules, layer→decorator mapping, component overrides, source/module/directory scanning (31 tests)"
  7.2:
    status: done
    date: "2026-02-18"
    note: "ICD-aware wrong-decorator detection: icd_schema cross-validation, ICD_MISMATCH findings, scan_full() combined pipeline (32 tests)"
  7.3: pending

  # Step 8 — Test
  8.1: pending
  8.2: pending
  8.3:
    status: done
    date: "2026-02-18"
    note: "Contract fixture generator: valid/invalid/Hypothesis strategies for all 49 ICDs (597 tests)"
  8.4: pending

  # Step 9 — Fitness Functions
  9.1: pending
  9.2:
    status: done
    date: "2026-02-18"
    note: "Architecture fitness functions: layer violations, coupling metrics, dependency depth, import graph, run_all (67 tests)"
  9.3: pending
  9.4: pending

  # Step 10 — RTM Generation
  10.1: pending
  10.2:
    status: done
    date: "2026-02-18"
    note: "RTM generator: decorator discovery, test discovery, traceability matrix, CSV export, report generation (30 tests)"
  10.3: pending

  # Step 11 — CI Gate
  11.1:
    status: done
    date: "2026-02-18"
    note: "Unified CI gate: ordered 4-stage pipeline, fail-fast, blocking/warning/info severity, GateVerdict summary (28 tests)"
  11.2: pending
  11.3:
    status: done
    date: "2026-02-18"
    note: "Phase A gate checklist: 10 items, all PASS, Phase B unlocked (25 tests)"
  11.4: pending

  # ── Slice 3: Phase B — Formal Methods & Full Kernel ─────────────
  # Step 13 — FMEA
  13.1:
    status: done
    date: "2026-02-19"
    note: "FMEA kernel invariant desynchronization: KernelContext + K1–K8, 3 failure modes each, RPN table, mitigations (0 tests — document artifact)"
  13.2: pending
  13.3: pending
  13.4: pending
  13.5: pending
  13.6: pending
  13.7: pending

  # Step 14 — TLA+
  14.1:
    status: done
    date: "2026-02-19"
    note: "TLA+ KernelContext state machine: 5 states, 8 actions, 8 safety invariants, 5 liveness properties; TLC 14 distinct states, 0 violations (0 tests — formal methods artifact)"
  14.2: pending
  14.3: pending
  14.4: pending
  14.5:
    status: done
    date: "2026-02-19"
    note: "Formal state-machine validator: KernelState/KernelEvent enums, VALID_TRANSITIONS frozenset, pure guards, validate_trace, KernelStateMachineValidator; mirrors TLA+ spec §14.1; Hypothesis property tests for determinism/purity/state-space (96 tests)"

  # Step 15 — KernelContext
  15.1: pending
  15.2: pending
  15.3: pending
  15.4:
    status: done
    date: "2026-02-19"
    note: "KernelContext async context manager: 5-state lifecycle (IDLE/ENTERING/ACTIVE/EXITING/FAULTED), pluggable gates, corr_id, exit cleanup stub; all state-machine paths end in IDLE; liveness property satisfied (41 tests)"
  15.5: pending
  15.6: pending
  15.7: pending

  # Step 16 — K1-K4 (schema, permissions, bounds, trace)
  16.1: pending
  16.2: pending
  16.3:
    status: done
    date: "2026-02-19"
    note: "k1_gate factory: Gate-protocol async adapter for KernelContext; wraps k1_validate; all failure paths end in IDLE (TLA+ EventuallyIdle); composes with other gates; property-based zero FP/FN tests (29 tests)"
  16.4:
    status: done
    date: "2026-02-19"
    note: "K2 RBAC permission gate: k2_check_permissions + k2_gate factory; PermissionRegistry singleton; RevocationCache protocol + NullRevocationCache + FailRevocationCache; JWTError/ExpiredTokenError/RevokedTokenError/PermissionDeniedError/RoleNotFoundError/RevocationCacheError; pre-decoded claims dict; fail-safe revocation deny; TLA+ liveness all paths IDLE; composes with k1_gate; property-based zero FP/FN (42 tests)"
  16.5: pending
  16.6: pending
  16.7: pending
  16.8: pending
  16.9: pending
